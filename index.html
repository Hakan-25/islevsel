<!DOCTYPE html>
<html lang="tr">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MXHVBZBVZJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-MXHVBZBVZJ');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HÄ±zlÄ± Yazma Testi | Ultimate</title>
    <style>
        :root {
            --primary: #fbbf24; /* Daha parlak sarÄ±/turuncu */
            --bg: #111827; /* Koyu Arka Plan */
            --panel: #1f2937; /* Panel Rengi */
            --text-main: #f9fafb; /* Bembeyaz Ana YazÄ± */
            --text-muted: #9ca3af; /* Okunabilir AÃ§Ä±k Gri */
            --correct: #34d399; /* Parlak YeÅŸil */
            --wrong: #f87171; /* Parlak KÄ±rmÄ±zÄ± */
            --current-bg: #374151;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg);
            color: var(--text-main);
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }

        header {
            width: 100%; padding: 20px 0; text-align: center;
            background: var(--panel); border-bottom: 1px solid #374151; margin-bottom: 20px;
        }
        h1 { margin: 0; font-size: 28px; color: var(--primary); letter-spacing: 1px; }

        .container {
            width: 90%; max-width: 1000px;
            display: flex; flex-direction: column; align-items: center;
        }

        /* Ayar BarÄ± */
        .config-bar {
            background: var(--panel);
            padding: 10px 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex; gap: 10px;
            border: 1px solid #374151;
        }
        .time-btn {
            background: transparent; border: 2px solid #4b5563; color: #d1d5db;
            padding: 5px 15px; border-radius: 8px; cursor: pointer; font-weight: bold;
            transition: all 0.2s;
        }
        .time-btn:hover { border-color: var(--primary); color: white; }
        .time-btn.active { background: var(--primary); border-color: var(--primary); color: #111; }

        /* CanlÄ± Ä°statistikler */
        .live-stats {
            display: flex; gap: 40px; font-size: 24px; font-weight: bold; margin-bottom: 20px; color: var(--primary);
        }
        .live-stat span { color: white; margin-left: 10px; }

        /* Kelime Kutusu (DÃœZELTÄ°LDÄ°) */
        .word-box-wrapper {
            position: relative; width: 100%; background: var(--panel);
            border-radius: 16px; padding: 30px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            border: 1px solid #374151;
        }
        .word-display {
            font-size: 28px; line-height: 1.8; height: 160px;
            overflow: hidden; user-select: none; 
            color: var(--text-muted); /* ARTIK AÃ‡IK GRÄ° (Okunabilir) */
        }
        
        .word { 
            display: inline-block; margin-right: 15px; border-radius: 6px; padding: 4px 8px; 
            transition: all 0.1s ease;
        }
        
        /* Aktif Kelime (DÃœZELTÄ°LDÄ° - DAHA BELÄ°RGÄ°N) */
        .word.current { 
            background-color: var(--primary); /* SarÄ± Arka Plan */
            color: #111; /* Siyah YazÄ± */
            font-weight: bold;
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }
        
        .word.correct { color: var(--correct); } /* Parlak YeÅŸil */
        .word.wrong { color: var(--wrong); text-decoration: underline; background: rgba(248, 113, 113, 0.1); } /* Parlak KÄ±rmÄ±zÄ± */

        #textInput { position: absolute; opacity: 0; top: 0; left: 0; height: 100%; width: 100%; cursor: text; }

        .blur-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(17, 24, 39, 0.85); backdrop-filter: blur(4px);
            display: flex; justify-content: center; align-items: center;
            border-radius: 16px; z-index: 10; cursor: pointer; color: white; font-size: 22px; font-weight: bold;
        }
        .hidden { display: none !important; }

        .restart-btn {
            margin-top: 30px; background: #374151; color: white; border: none;
            padding: 12px 40px; font-size: 18px; border-radius: 8px; cursor: pointer;
            transition: background 0.2s; border: 1px solid #4b5563;
        }
        .restart-btn:hover { background: var(--primary); color: #111; border-color: var(--primary); }

        /* SonuÃ§ EkranÄ± */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); display: none; justify-content: center; align-items: center; z-index: 100;
        }
        .modal {
            background: var(--panel); width: 500px; padding: 40px; border-radius: 20px;
            text-align: center; border: 1px solid #4b5563; box-shadow: 0 0 50px rgba(251, 191, 36, 0.15);
        }
        .modal h2 { color: white; margin-bottom: 5px; }
        .big-wpm { font-size: 72px; font-weight: 900; color: var(--primary); margin: 10px 0; line-height: 1; text-shadow: 0 0 20px rgba(251, 191, 36, 0.3); }
        .big-wpm span { font-size: 16px; color: #9ca3af; font-weight: normal; display: block; margin-top: 5px; text-shadow: none; }
        
        .stats-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 30px 0;
            text-align: left; background: #111827; padding: 20px; border-radius: 12px; border: 1px solid #374151;
        }
        .grid-item { display: flex; justify-content: space-between; font-size: 14px; color: #9ca3af; border-bottom: 1px solid #374151; padding-bottom: 5px; }
        .grid-item strong { color: white; font-size: 16px; }
        .acc-high { color: var(--correct) !important; }
        
        .footer { margin-top: auto; padding: 20px; color: #6b7280; font-size: 12px; }
    </style>
</head>
<body>

<header>
    <h1>ðŸš€ Ultimate Typing Test</h1>
</header>

<div class="container">
    <div class="config-bar">
        <span style="color:#d1d5db; align-self:center; font-size:14px; margin-right:5px;">SÃ¼re:</span>
        <button class="time-btn" onclick="setTime(30)">30s</button>
        <button class="time-btn active" onclick="setTime(60)">60s</button>
        <button class="time-btn" onclick="setTime(120)">2dk</button>
        <button class="time-btn" onclick="setTime(180)">3dk</button>
    </div>

    <div class="live-stats">
        <div class="live-stat" id="timerDisplay">60</div>
        <div class="live-stat" style="color: #4b5563">|</div>
        <div class="live-stat">WPM: <span id="liveWpm">0</span></div>
    </div>

    <div class="word-box-wrapper" onclick="document.getElementById('textInput').focus()">
        <div class="blur-overlay" id="focusOverlay">
            ðŸ‘† BaÅŸlamak iÃ§in TIKLA
        </div>
        <div class="word-display" id="wordDisplay"></div>
        <input type="text" id="textInput" autocomplete="off" spellcheck="false">
    </div>

    <button class="restart-btn" onclick="resetGame()">âŸ³ Yeniden BaÅŸlat</button>
</div>

<div class="modal-overlay" id="resultModal">
    <div class="modal">
        <h2>Test TamamlandÄ±!</h2>
        <div class="big-wpm" id="finalWpm">0 <span>WPM (Net HÄ±z)</span></div>
        
        <div class="stats-grid">
            <div class="grid-item">DoÄŸruluk: <strong id="finalAcc" class="acc-high">%0</strong></div>
            <div class="grid-item">TuÅŸ VuruÅŸu: <strong id="finalKeystrokes">0</strong></div>
            <div class="grid-item">DoÄŸru Kelime: <strong id="finalCorrect" style="color:var(--correct)">0</strong></div>
            <div class="grid-item">YanlÄ±ÅŸ Kelime: <strong id="finalWrong" style="color:var(--wrong)">0</strong></div>
            <div class="grid-item">Ham HÄ±z (Raw): <strong id="finalRaw">0</strong></div>
            <div class="grid-item">SÃ¼re: <strong id="finalTime">60s</strong></div>
        </div>

        <button class="restart-btn" onclick="resetGame()" style="width:100%; background:var(--primary); color:#111; border-color:var(--primary);">Tekrar Dene</button>
    </div>
</div>

<div class="footer">&copy; 2025 Hakan-25 | GitHub Pages</div>

<script>
    // --- BÃœYÃœK KELÄ°ME HAVUZU (TÃ¼rkÃ§e) ---
    const rawWordList = "bir ve bu de da iÃ§in Ã§ok o en ne kadar olan olarak var ile daha ama gibi sonra bÃ¼yÃ¼k yer yÄ±l zaman kendi bÃ¶yle her ÅŸey diye iki yok tarafÄ±ndan Ã¶nce insan arasÄ±nda son iÅŸ ancak ÅŸekilde yeni sadece bÃ¼tÃ¼n gÃ¶re aynÄ± bile hiÃ§ ÅŸimdi yÃ¼zden artÄ±k oldu olduÄŸunu olmasÄ± ben sen biz siz onlar gÃ¼zel iyi kÃ¶tÃ¼ uzun kÄ±sa geldi gitti yaptÄ± dedi Ã§Ã¼nkÃ¼ veya ya hem kim hangi nasÄ±l neden nerede evet hayÄ±r belki gÃ¼n saat dakika bugÃ¼n yarÄ±n dÃ¼n gece sabah akÅŸam hafta ay yÄ±l su ekmek yemek kitap okul ev araba yol kapÄ± pencere masa sandalye bilgisayar telefon kalem kaÄŸÄ±t arkadaÅŸ aile baba anne kardeÅŸ Ã§ocuk bebek genÃ§ yaÅŸlÄ± kadÄ±n erkek doktor Ã¶ÄŸretmen Ã¶ÄŸrenci devlet millet Ã¼lke ÅŸehir kÃ¶y sokak cadde park bahÃ§e aÄŸaÃ§ Ã§iÃ§ek hayvan kÃ¶pek kedi kuÅŸ balÄ±k deniz gÃ¶l nehir daÄŸ tepe orman hava gÃ¼neÅŸ ay yÄ±ldÄ±z yaÄŸmur kar rÃ¼zgar ateÅŸ toprak demir altÄ±n gÃ¼mÃ¼ÅŸ para banka market maÄŸaza fiyat ucuz pahalÄ± bedava satÄ±ÅŸ alÄ±ÅŸveriÅŸ hesap fatura borÃ§ kredi kart numara isim soyad adres telefon posta mesaj haber bilgi soru cevap test sÄ±nav ders konu bÃ¶lÃ¼m sÄ±nÄ±f grup takÄ±m oyun spor mÃ¼zik film sanat resim fotoÄŸraf renk kÄ±rmÄ±zÄ± mavi yeÅŸil sarÄ± siyah beyaz turuncu mor pembe kahverengi gri aÃ§Ä±k koyu sÄ±cak soÄŸuk Ä±lÄ±k hÄ±zlÄ± yavaÅŸ kolay zor aÄŸÄ±r hafif yÃ¼ksek alÃ§ak geniÅŸ dar uzak yakÄ±n iÃ§ dÄ±ÅŸ saÄŸ sol Ã¼st alt Ã¶n arka orta yan karÅŸÄ± baÅŸ son ilk tek Ã§ift tam yarÄ±m Ã§eyrek miktar sayÄ± rakam harf kelime cÃ¼mle metin yazÄ± konuÅŸma ses gÃ¼rÃ¼ltÃ¼ sessizlik mutlu Ã¼zgÃ¼n kÄ±zgÄ±n korkmuÅŸ ÅŸaÅŸkÄ±n yorgun hasta saÄŸlÄ±klÄ± gÃ¼Ã§lÃ¼ zayÄ±f zengin fakir dolu boÅŸ temiz kirli yeni eski aÃ§Ä±k kapalÄ± gelmek gitmek almak vermek yapmak etmek konuÅŸmak sÃ¶ylemek duymak gÃ¶rmek bakmak yÃ¼rÃ¼mek koÅŸmak oturmak kalkmak yatmak uyumak uyanmak Ã§alÄ±ÅŸmak okumak yazmak Ã§izmek dÃ¼ÅŸÃ¼nmek anlamak bilmek sevmek istemek korkmak ÅŸaÅŸÄ±rmak gÃ¼lmek aÄŸlamak baÅŸlamak bitmek durmak kalmak yaÅŸamak Ã¶lmek bulmak kaybetmek aÃ§mak kapatmak sormak cevaplamak kazanmak iÃ§mek yemek oynamak beklemek aramak buluÅŸmak tanÄ±ÅŸmak ayrÄ±lmak evlenmek boÅŸanmak doÄŸmak bÃ¼yÃ¼mek unutmak hatÄ±rlamak Ã¶ÄŸrenmek Ã¶ÄŸretmek izlemek dinlemek sÃ¼rmek taÅŸÄ±mak yardÄ±m etmek teÅŸekkÃ¼r etmek Ã¶zÃ¼r dilemek lÃ¼tfen merhaba hoÅŸÃ§a kal nasÄ±lsÄ±n iyiyim saÄŸ ol tebrikler baÅŸarÄ±lar ÅŸans aÅŸk sevgi nefret barÄ±ÅŸ savaÅŸ Ã¶zgÃ¼rlÃ¼k adalet hak hukuk kural yasa ceza suÃ§ polis asker jandarma mahkeme avukat hakim savcÄ± hapis suÃ§lu masum tanÄ±k delil olay durum gerÃ§ek yalan doÄŸru yanlÄ±ÅŸ hata kusur eksik fazla az Ã§ok biraz birkaÃ§ birÃ§ok hiÃ§biri hepsi bazÄ± kimse herkes birbiri Ã¶teki diÄŸeri hangi ÅŸu o bu bunlar ÅŸunlar onlar burasÄ± ÅŸurasÄ± orasÄ± neresi buraya ÅŸuraya oraya nereye buradan ÅŸuradan oradan nereden niÃ§in ne zaman ne kadar kaÃ§ kimin hangi nasÄ±l ne";
    
    const wordPool = rawWordList.split(" ");

    let selectedTime = 60;
    let timer = 60;
    let isPlaying = false;
    let timerInterval = null;
    let displayWords = [];
    let currentWordIndex = 0;
    let correctKeystrokes = 0;
    let wrongKeystrokes = 0;
    let correctWords = 0;
    let wrongWords = 0;
    
    const wordDisplay = document.getElementById('wordDisplay');
    const textInput = document.getElementById('textInput');
    const timerDisplay = document.getElementById('timerDisplay');
    const liveWpmDisplay = document.getElementById('liveWpm');
    const focusOverlay = document.getElementById('focusOverlay');
    const modal = document.getElementById('resultModal');

    function setTime(seconds) {
        if(isPlaying) return;
        selectedTime = seconds;
        timer = seconds;
        timerDisplay.innerText = timer;
        document.querySelectorAll('.time-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        resetGame();
    }

    function initGame() {
        fillWordDisplay();
        textInput.value = '';
        textInput.focus();
        timerDisplay.innerText = selectedTime;
        timer = selectedTime;
        liveWpmDisplay.innerText = '0';
        currentWordIndex = 0;
        correctKeystrokes = 0;
        wrongKeystrokes = 0;
        correctWords = 0;
        wrongWords = 0;
        isPlaying = false;
        clearInterval(timerInterval);
        focusOverlay.classList.remove('hidden');
    }

    function fillWordDisplay() {
        displayWords = [];
        wordDisplay.innerHTML = '';
        for(let i=0; i<40; i++) {
            const randomWord = wordPool[Math.floor(Math.random() * wordPool.length)];
            displayWords.push(randomWord);
            const span = document.createElement('span');
            span.innerText = randomWord;
            span.className = 'word';
            wordDisplay.appendChild(span);
        }
        wordDisplay.children[0].classList.add('current');
    }

    textInput.addEventListener('input', () => {
        if(!isPlaying && textInput.value.length > 0) {
            startTimer();
            focusOverlay.classList.add('hidden');
        }

        const currentWord = displayWords[currentWordIndex];
        const typedValue = textInput.value;
        const currentSpan = wordDisplay.children[currentWordIndex];

        if(typedValue.endsWith(' ')) {
            const cleanTyped = typedValue.trim();
            if(cleanTyped === currentWord) {
                currentSpan.className = 'word correct';
                correctWords++;
                correctKeystrokes += currentWord.length + 1;
            } else {
                currentSpan.className = 'word wrong';
                wrongWords++;
                wrongKeystrokes += currentWord.length;
            }

            currentWordIndex++;
            textInput.value = '';

            if(currentWordIndex >= displayWords.length - 1 || wordDisplay.children[currentWordIndex].offsetTop > 90) {
                 refreshPage();
            } else {
                wordDisplay.children[currentWordIndex].classList.add('current');
            }
            updateStats();
        } else {
            // CanlÄ± Hata KontrolÃ¼
            if(!currentWord.startsWith(typedValue)) {
                currentSpan.style.backgroundColor = '#7f1d1d'; // Hata (Koyu KÄ±rmÄ±zÄ±)
                currentSpan.style.color = '#fecaca';
            } else {
                currentSpan.style.backgroundColor = '#fbbf24'; // Normal (SarÄ±)
                currentSpan.style.color = '#111';
            }
        }
    });

    function refreshPage() {
        fillWordDisplay();
        currentWordIndex = 0;
    }

    function startTimer() {
        isPlaying = true;
        timerInterval = setInterval(() => {
            timer--;
            timerDisplay.innerText = timer;
            updateStats();
            if(timer === 0) finishGame();
        }, 1000);
    }

    function updateStats() {
        const timeElapsed = selectedTime - timer;
        if(timeElapsed > 0) {
            const wpm = Math.round((correctKeystrokes / 5) / (timeElapsed / 60));
            liveWpmDisplay.innerText = wpm;
        }
    }

    function finishGame() {
        clearInterval(timerInterval);
        isPlaying = false;
        textInput.blur();
        modal.style.display = 'flex';

        const timeMins = selectedTime / 60;
        const grossWpm = Math.round(((correctKeystrokes + wrongKeystrokes) / 5) / timeMins);
        const netWpm = Math.round((correctKeystrokes / 5) / timeMins);
        const totalKeystrokes = correctKeystrokes + wrongKeystrokes;
        const accuracy = totalKeystrokes > 0 ? Math.round((correctKeystrokes / totalKeystrokes) * 100) : 0;

        document.getElementById('finalWpm').innerHTML = `${netWpm} <span>WPM (Net HÄ±z)</span>`;
        document.getElementById('finalAcc').innerText = '%' + accuracy;
        document.getElementById('finalKeystrokes').innerText = `${correctKeystrokes} (D) / ${wrongKeystrokes} (Y)`;
        document.getElementById('finalCorrect').innerText = correctWords;
        document.getElementById('finalWrong').innerText = wrongWords;
        document.getElementById('finalRaw').innerText = grossWpm;
        document.getElementById('finalTime').innerText = selectedTime + 's';
    }

    function resetGame() {
        modal.style.display = 'none';
        initGame();
    }

    textInput.addEventListener('blur', () => { if(isPlaying) focusOverlay.classList.remove('hidden'); });
    textInput.addEventListener('focus', () => { focusOverlay.classList.add('hidden'); });
    initGame();
</script>
</body>
</html>
